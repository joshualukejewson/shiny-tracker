{% extends "base.html" %} {% block body %}

<div class="page">
  <img
    class="logo"
    id="pokemon-logo"
    src="../static/assets/poketracker.png"
    alt="pokemon logo"
  />
  {% if username %}
  <h1>Welcome {{username.capitalize()}}!</h1>
  {% endif %}
  <div class="card">
    <h1>Search for a Pokemon:</h1>

    <form method="POST">
      <input
        type="text"
        name="pokemon_search"
        placeholder="Enter PokÃ©mon name"
      />
      <button type="submit" name="search_btn">Search</button>
    </form>

    {% if pokemon %}
    <div>
      <h2>{{ pokemon.name.capitalize() }}</h2>
      <img
        id="pokemon-sprite"
        src="{{ pokemon.sprite }}"
        alt="{{ pokemon.name }}"
        data-normal="{{ pokemon.sprite }}"
        data-shiny="{{ pokemon.sprite_shiny }}"
        onclick="toggleShiny(this)"
        style="cursor: pointer"
      />
      <p>Encounters: {{ hunt.encounters }}</p>

      <form method="POST">
        <input
          type="hidden"
          name="pokemon_name"
          value="{{ pokemon.name.lower() }}"
        />
        <button type="submit" name="increment_btn">+1 Encounter</button>
      </form>

      <form method="POST">
        <input
          type="hidden"
          name="pokemon_name"
          value="{{ pokemon.name.lower() }}"
        />
        <button type="submit" name="reset_btn">Reset</button>
      </form>

      <button id="showDialog">Settings</button>
      <dialog id="settingsDialog">
        <h2>Settings</h2>
        <div class="settings">
          <img class="setting-sprite" src="{{ pokemon.sprite }}" />
          <div class="settings-options">
            <label class="switch">
              <p>Shiny charm:</p>
              <input type="checkbox" />
              <span class="slider round"></span>
            </label>
            <label class="switch">
              <p>Masuda Method:</p>
              <input type="checkbox" />
              <span class="slider round"></span>
            </label>
          </div>
        </div>
        <button id="closeDialog">Close</button>
      </dialog>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
